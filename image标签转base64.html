<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title></title>
		<script type="text/javascript" src="js/jquery-2.2.1.min.js"></script>
	</head>
	<body>
		<img class="img" src="img/banner.jpg"/>
		<button>è½¬base64</button>
	</body>
</html>
<script type="text/javascript">
	var img=$('.img').attr('src');
	var image = new Image();
	image.src = img;
	image.crossOrigin="anonymous"; 
	image.onload = function() {
		var base64 = getBase64Image(image);
		console.log(base64);
	}
	function getBase64Image(img) {
		var canvas = document.createElement("canvas");
		canvas.width = img.width;
		canvas.height = img.height;
		var ctx = canvas.getContext("2d");
		ctx.drawImage(img, 0, 0, img.width, img.height);
		var ext = img.src.substring(img.src.lastIndexOf(".") + 1).toLowerCase();
		var dataURL = canvas.toDataURL("image/" + ext);
		return dataURL;
	}
</script>